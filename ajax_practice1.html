<html>
    
    <head>
        
        <title>Ajax</title>    
        
        
        
        
    </head>
    
    <body>
        
    
        <a href="country.txt" onclick="grabFile(this.href);return false;">Show</a> 
        
        <select id="ftfl"> </select>
        
       <!-- <a href="country.txt" onclick="getJsonData(this.href);return false;">Show JSON</a> -->

 <script>
     
     
            
function getHTTPObject() {
    var xhr = false;
    if (window.XMLHttpRequest) {
    xhr = new XMLHttpRequest();
    } else if (window.ActiveXObject) {
    try {
    xhr = new ActiveXObject("Msxml2.XMLHTTP");
    } catch(e) {
    try {
    xhr = new ActiveXObject("Microsoft.XMLHTTP");
    } catch(e) {
    xhr = false;
    }
    }
    }
    return xhr;
}




function grabFile(file) {
    var request = getHTTPObject();
    if (request) {
    request.onreadystatechange = function() {
    displayResponse(request);
    };
    request.open("GET", file, true);
    request.send(null);
    }
}

function displayResponse(request) {
    if (request.readyState === 4) {
    if (request.status === 200 || request.status === 304) {
    
             /* alert(request.responseText); */
    
      var json = request.responseText;
        objCountries =  JSON.parse(json);


         var options="";


        for(var i=0; i<objCountries.countries.length; i++){
            
            options +="<option value = '" +objCountries.countries[i].country['country_id'] + "'>"+objCountries.countries[i].country['country_name']+"</option>";
            
            
           /* document.write("Country ID: "+objCountries.countries[i].country.country_id+"<br/>"+
                   objCountries.countries[i].country.country_name+"<br/>" );
                    */
            
           
             
         
          
        }
                
            alert(options);
          
          document.getElementById("ftfl").innerHTML= options;
               
           
            
            
           
           	
            
            
            
            }
            
           
    }
}


/*function getJsonData(){
    
   
    
    
}
*/




        </script>
        
        


   
        
        
        
    </body>
    
    
    
</html>